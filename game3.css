:root{
  --bg:#05060b;
  --panel:#0c1118;
  --muted:#9aa4b2;
  --accent:#5eead4;
  --accent-2:#7c3aed;
  --danger:#ff6b6b;
  --ok:#34d399;
  --glass: rgba(255,255,255,0.02);
}
*{box-sizing:border-box}
body{
  font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: radial-gradient(1000px 400px at 10% 10%, rgba(124,58,237,0.08), transparent 10%),
              radial-gradient(900px 350px at 90% 90%, rgba(94,234,212,0.04), transparent 8%),
              var(--bg);
  margin:0;
  padding:20px;
  color:#e6eef8;
}
header{ text-align:center; margin-bottom:12px; }
.subtitle{ color:var(--muted); margin-top:6px; }

.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.03);
  border-radius:10px;
  padding:12px;
  margin-bottom:12px;
  backdrop-filter: blur(6px);
}

#controls .row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
#controls label{ font-size:13px; color:var(--muted); display:flex; gap:8px; align-items:center; }
#controls input[type="number"], #controls select{ width:96px; padding:6px 8px; border-radius:6px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:inherit; }

.primary{
  background:linear-gradient(90deg,var(--accent-2),var(--accent));
  color:#071028; border:0; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:700;
}
.secondary{
  background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.04); padding:8px 12px; border-radius:8px; cursor:pointer;
}
.primary:active,.secondary:active{ transform:translateY(1px) }

.status-card .status-row{ display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
#message{ margin-top:8px; color:var(--muted) }

#game-area{ display:grid; grid-template-columns:260px 1fr 260px; gap:12px; align-items:start; }

/* shopping list & cart */
#shoppingList ul, #cart ul{ list-style:none; padding:0; margin:8px 0 0 0; max-height:380px; overflow:auto; }
#shoppingList li, #cart li{
  padding:8px 10px; border-radius:8px; margin-bottom:8px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  display:flex; justify-content:space-between; align-items:center; border:1px solid rgba(255,255,255,0.02); color:var(--muted);
}
.list-checked{ text-decoration:line-through; opacity:0.7; color:var(--muted) !important; }

#items .grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:12px; }
.item{
  border-radius:10px; padding:10px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  border:1px solid rgba(255,255,255,0.02); cursor:pointer; position:relative; min-height:110px; overflow:visible;
}
.item h4{ margin:0 0 8px 0; font-size:15px; color:#e8f3ff; }
.meta{ font-size:12px; color:var(--muted); margin-bottom:6px; display:flex; gap:6px; flex-wrap:wrap; align-items:center; }
.badge{
  display:inline-block; padding:3px 6px; border-radius:999px; font-size:11px; color:#071028;
  background:var(--accent);
}
.badge.discount{ background:var(--ok); color:#041012; } /* green */
.badge.impulse{ background:#f59e0b; color:#2a1400; } /* amber */
.badge.soldout{ background:var(--danger); color:#fff; }
.price{ font-weight:800; font-size:16px; color:#cfeffd; margin-bottom:6px; }

.item .controls{ display:flex; gap:6px; margin-top:8px; }
.btn-small{ padding:6px 8px; border-radius:8px; border:0; cursor:pointer; background:rgba(255,255,255,0.02); color:var(--muted); }

.overlay{ position:absolute; inset:0; background:linear-gradient(180deg, rgba(2,6,23,0.35), rgba(2,6,23,0.6)); border-radius:10px; display:flex; align-items:center; justify-content:center; font-weight:700; color:#fff; }

.add-overlay{
  position: absolute;
  right: 12px;
  top: 8px;
  padding: 8px 10px;
  border-radius: 8px;
  background: linear-gradient(90deg,#34d399,#5eead4);
  color: #06211b;
  font-weight:800;
  display:flex;
  gap:8px;
  align-items:center;
  box-shadow: 0 8px 20px rgba(20,40,60,0.45);
  transform-origin: center;
  animation: popAdd 900ms cubic-bezier(.2,.9,.2,1);
  z-index: 30;
}
.add-overlay .tick { font-size:14px; }

@keyframes popAdd {
  0% { transform: translateY(-10px) scale(0.8); opacity: 0; }
  40% { transform: translateY(0) scale(1.08); opacity: 1; }
  60% { transform: translateY(-2px) scale(0.98); }
  100% { transform: translateY(0) scale(1); opacity: 1; }
}

.item.added { box-shadow: 0 10px 30px rgba(46,229,201,0.06); border-color: rgba(94,234,212,0.12); }

.hidden{ display:none; }

.row.small{ font-size:13px; color:var(--muted); margin-top:8px; }

.total{ margin-top:10px; font-size:16px; color:var(--muted); }
.message{ padding:8px; border-radius:8px; background:linear-gradient(180deg, rgba(255,255,255,0.018), rgba(255,255,255,0.01)); color:var(--muted); }

footer{ text-align:center; margin-top:12px; color:var(--muted); font-size:13px; }

/* mobile */
@media (max-width:1000px){
  #game-area{ grid-template-columns:1fr; }
  #shoppingList, #cart{ order:2; }
  #items{ order:1; }
}

 .big-red-x-icon {
    position: fixed;
    top: calc(max(8px, env(safe-area-inset-top)));
    right: calc(max(8px, env(safe-area-inset-right)));
    width: clamp(40px, 8vw, 64px); /* keeps it between 40px and 64px */
    height: clamp(40px, 8vw, 64px);
    display: grid;
    place-items: center;
    z-index: 9999;
    text-decoration: none;
    color: #e53935; /* stroke color of the X */
    -webkit-tap-highlight-color: transparent;
    transition: transform 120ms ease, opacity 120ms ease;
  }

  .big-red-x-icon:hover { transform: scale(1.06); opacity: 0.98; }
  .big-red-x-icon:active { transform: scale(0.98); }

  /* SVG fills the available box */
  .big-red-x-icon svg { width: 100%; height: 100%; display: block; }

  /* Make sure the clickable area remains circular-ish on pointer devices (optional) */
  .big-red-x-icon::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 50%;
    pointer-events: none;
  }